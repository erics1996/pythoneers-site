<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Erics">
        <link rel="canonical" href="https://pythoneers.cn/deep-learning/tensorflow.html">
        <link rel="shortcut icon" href="../img/favicon.ico">
<!--sougou-->
<meta name="keywords"
      content="python入门,python学习,python文档,python教程,python,django,flask,python web,python爬虫,python人工智能,python数据分析,python深度学习,python量化交易"/>
<meta http-equiv="Content-Type" content="text/html;charset=gb2312"/>
<meta name="sogou_site_verification" content="atcH4bxi4f"/>
<!--!sougou-->

        <title>TensorFlow - PYTHONEERS</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../css/nav.css" rel="stylesheet">
        <link href="../css/public.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/shell script.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">PYTHONEERS</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../python/python-basis.html">Python基础入门</a>
</li>
                                    
<li >
    <a href="../python/python-advance.html">Python进阶</a>
</li>
                                    
<li >
    <a href="../python/python-senior.html">Python高级</a>
</li>
                                    
<li >
    <a href="../python/module.html">内置模块与第三方模块</a>
</li>
                                    
<li >
    <a href="../python/algorithm.html">数据结构与算法</a>
</li>
                                    
<li >
    <a href="../python/design-pattern.html">设计模式</a>
</li>
                                    
<li >
    <a href="../python/interviews-python.html">Python面试题</a>
</li>
                                    
<li >
    <a href="../python/interviews-network.html">网络相关面试题</a>
</li>
                                    
<li >
    <a href="../python/leetcode-algorithm.html">Leetcode算法</a>
</li>
                                    
<li >
    <a href="../python/leetcode-db.html">Leetcode数据库</a>
</li>
                                    
<li >
    <a href="../python/leetcode-multithreading.html">Leetcode多线程</a>
</li>
                                    
<li >
    <a href="../python/nowcoder-sword-offer.html">剑指Offer</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python Web <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../python-web/django.html">Django</a>
</li>
                                    
<li >
    <a href="../python-web/drf.html">Django Rest Framework</a>
</li>
                                    
<li >
    <a href="../python-web/flask.html">Flask</a>
</li>
                                    
<li >
    <a href="../python-web/celery.html">Celery</a>
</li>
                                    
<li >
    <a href="../python-web/mysql.html">MySQL</a>
</li>
                                    
<li >
    <a href="../python-web/interviews-flask.html">Flask面试题</a>
</li>
                                    
<li >
    <a href="../python-web/interviews-django.html">Django面试题</a>
</li>
                                    
<li >
    <a href="../python-web/interviews-mysql.html">MySQL面试题</a>
</li>
                                    
<li >
    <a href="../python-web/interviews-redis.html">Redis面试题</a>
</li>
                                    
<li >
    <a href="../python-web/project-flask.html">Flask项目实战</a>
</li>
                                    
<li >
    <a href="../python-web/project-django.html">Django项目实战</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python GUI <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../gui/pyqt5.html">PyQt5</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">网络爬虫 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../web-crawler/scrapy.html">Scrapy</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">数据分析 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../data-analysis/numpy.html">NumPy</a>
</li>
                                    
<li >
    <a href="../data-analysis/pandas.html">Pandas</a>
</li>
                                    
<li >
    <a href="../data-analysis/matplotlib.html">Matplotlib</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">计算机视觉 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../computer-vision/opencv.html">OpenCV</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">机器学习 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../machine-learning/quantitative-trading.html">机器学习与量化交易</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">深度学习 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="tensorflow.html">TensorFlow</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                            <li >
                                <a rel="next" href="../machine-learning/quantitative-trading.html">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="disabled">
                                <a rel="prev" >
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#tensorflow">Tensorflow</a></li>
            <li><a href="#1-piptensorflow">1. pip安装TensorFlow</a></li>
            <li><a href="#2-anacondatensorflow">2. Anaconda安装TensorFlow</a></li>
            <li><a href="#3-tensorflow-docker">3. 构建TensorFlow Docker容器</a></li>
            <li><a href="#4-cuda">4. CUDA的安装</a></li>
            <li><a href="#5-cudnn">5. cuDNN的安装</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><img alt="数据结构与算法" src="../img/deep-learning/tensorflow.jpg" /></p>
<h4 id="tensorflow">Tensorflow</h4>
<hr>

<h5 id="1-piptensorflow">1. pip安装TensorFlow</h5>
<p>这里使用 Ubuntu 20.04 作为操作系统平台，Ubuntu 20.04 默认安装了 Python3.8 版本，但是没有安装 pip，所以可以使用 apt 先安装 pip：</p>
<pre><code class="shell">$ sudo apt install python3-pip -y
</code></pre>

<p>查看 pip 的版本，如果不是最新版本顺便将 pip 升级到最新版本：</p>
<pre><code class="shell">$ pip3  -V
$ pip3 install --upgrade pip
</code></pre>

<blockquote>
<p><font>安装 pip 的方式很多，例如可以把 pip 下载到本地使用 Python 命令安装等。安装 TensorFlow2 需要使用高于 19.0 的 pip 版本</font>。</p>
</blockquote>
<p>安装之前需要把 pip 更新到最新版：</p>
<pre><code class="shell">$ pip3 install --upgrade pip
</code></pre>

<p>安装 virtualenv 来帮助我们创建虚拟环境，这里使用的是国内阿里云的镜像源，下载速度会快很多：</p>
<pre><code class="shell">$ pip3 install -U virtualenv -i https://mirrors.aliyun.com/pypi/simple
</code></pre>

<p>创建一个新的 Python 虚拟环境，创建一个 ./venv 目录来存放它：</p>
<pre><code class="shell">$ virtualenv ./venv/
</code></pre>

<blockquote>
<p><font>如果我们想把系统中已有的库也加入到虚拟环境中，可以加上 --system-site-packages。指定 Python 版本适用-p参数，如：-p python3</font></p>
</blockquote>
<p>激活该虚拟环境：</p>
<pre><code class="shell">$ source venv/bin/activate
</code></pre>

<p>使用 pip 安装支持 GPU 的 TensorFlow 软件包，可以选择稳定版或预览版。安装稳定版的 TensorFlow：</p>
<pre><code class="shell">(venv) $ pip install tensorflow -i https://mirrors.aliyun.com/pypi/simple/
</code></pre>

<blockquote>
<p><font>如果安装只支持 CPU 版本：pip install tensorflow-cpu；同理安装只支持 GPU 版本：pip install tensorflow-cpu。指定版本：pip install tensorflow-gpu==2.2.0</font></p>
</blockquote>
<p>安装预览版使用下面的命令：</p>
<pre><code class="shell">(venv) $ pip install tf-nightly -i https://mirrors.aliyun.com/pypi/simple/
</code></pre>

<p>安装之前一定要 <font>保证/tmp空闲足够充足，大概需要3G~4G</font>，当然也可以通过命令临时更改 /tmp 容量：</p>
<pre><code class="shell">$ sudo mount -t tmpfs -o size=4G /tmp
$ df -h
/dev/sda10      4.0G     0  4.0G    0% /tmp
</code></pre>

<p>查看已安装的所有包：</p>
<pre><code class="py">(venv) $ pip list
</code></pre>

<p>测试不指定 CPU 和 GPU 版本的 TensorFlow 是否不区分 CPU 和 GPU，是否会支持 GPU。测试发现确实支持 GPU：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200704034512148.png" /></p>
<blockquote>
<p><font>直接安装的 TensorFlow，并没有指定 GPU 版本，却得到 GPU 的支持。实际上新版本的 TensorFlow 不指定 GPU 版本同样支持 GPU。对于1.15及更早版本，CPU 和 GPU 软件包是分开的。pip install tensorflow==1.15 是 CPU 版本，pip install tensorflow-gpu==1.15 是 GPU 版本。</font></p>
</blockquote>
<hr>

<h5 id="2-anacondatensorflow">2. Anaconda安装TensorFlow</h5>
<p>Anaconda 是一个开源的 Python 发行版本，其中包含了很多流行的用于科学计算、数据分析的Python包。可以从官网下载，官网地址：<strong><a href="https://www.anaconda.com/products/individual">https://www.anaconda.com/products/individual</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200703134238628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70" /></p>
<p>也可以到清华镜像站下载，官网链接：<strong><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200703135637181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70" /></p>
<p>我们这里直接从清华镜像站复制了 Anaconda 最新版本的链接，使用 wget 或者 axel 先下载到本地：</p>
<pre><code class="shell">$ axel https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.3.1-Linux-x86_64.sh
</code></pre>

<p>执行脚本安装 Anaconda，安装过程中根据提示结合自己需要做例如选择安装路径、是否安装 Visual Stadio Code 的一些操作：</p>
<pre><code class="shell">$ ./Anaconda3-5.3.1-Linux-x86_64.sh
</code></pre>

<p>Anaconda 安装成功之后接下来就可以安装 TensorFlow 了，Anaconda 默认使用国外的镜像源，在我们安装 TensorFlow 之前先更换为国内的镜像源，如更换为 <a href="https://mirrors.ustc.edu.cn/anaconda/pkgs/main"><strong><code>中科大镜像源</code></strong></a>，第一个是最重要且主要的镜像源地址，第二个添不添加都可以：</p>
<pre><code class="shell">$ conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main
$ conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free
</code></pre>

<p>更新 conda：</p>
<pre><code class="shell">$ conda update -n base -c defaults conda
</code></pre>

<blockquote>
<p><font>conda 比 pip 更加强大，可以安装非 Python 库。所以，非常推荐使用 Anaconda 安装 TensorFlow！</font></p>
</blockquote>
<p>创建并进入虚拟环境，离开虚拟环境使用 <strong><code>conda deactivate</code></strong> 命令：</p>
<pre><code class="shell">$ conda create -n venv python=3.8
$ conda activate venv
(venv) $ conda deactivate
</code></pre>

<p>安装 TensorFlow GPU 最新版本，当前最新版是 tensorflow-gpu-2.2.0，已知版本的情况下可以指定版本：</p>
<pre><code class="shell">(venv) $ conda install tensorflow-gpu
</code></pre>

<p>为了检查安装的 TensorFlow 是否是 GPU 版本，需要安装 jupyter notebook 写程序测试：</p>
<pre><code class="shell">(venv) $ conda install jupyter notebook
(venv) $ jupyter notebook
</code></pre>

<p>测试程序如下，说明我们已经成功安装支持 GPU 的TensorFlow：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200704032216938.png" /></p>
<p>至此，Anaconda 安装 TensorFlow 大功告成！</p>
<hr>

<h5 id="3-tensorflow-docker">3. 构建TensorFlow Docker容器</h5>
<p>首先安装 Docker，Dockeer 官方安装文档：<strong><a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200703203416604.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70" /></p>
<p>安装方式有三种，我这里选择存储库安装。卸载旧版本的 Docker，如果之前安装过：</p>
<pre><code class="py">$ sudo apt remove docker docker-engine docker.io containerd runc
</code></pre>

<p>设置 Docker 存储库：</p>
<pre><code class="shell">$ sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common
</code></pre>

<p>添加 Docker 的官方GPG密钥：</p>
<pre><code class="shell">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</code></pre>

<p>设置稳定的存储：</p>
<pre><code class="shell">$ sudo add-apt-repository \
   &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable&quot;
</code></pre>

<p>更新 apt 程序包索引，并安装最新版本的 Docker Engine 和容器：</p>
<pre><code class="shell">$ sudo apt-get update &amp;&amp; sudo apt-get install docker-ce docker-ce-cli containerd.io
</code></pre>

<p>运行 hello-world 映像来验证是否正确安装了 Docker Engine：</p>
<pre><code class="shell">$ sudo docker run -it hello-world
</code></pre>

<p>查看 Docker 是否启动：</p>
<pre><code class="shell">$ systemctl status docker.service 
</code></pre>

<p>至此 Docker 安装成功，下面开始安装 TensorFlow。首先下载 TensorFlow Docker 镜像，TensorFlow 提供了很多 ensorFlow Docker 镜像。官方 TensorFlow Docker
映像位于 <strong><a href="https://hub.docker.com/r/tensorflow/tensorflow/">tensorflow/tensorflow</a></strong> Docker Hub 代码库中：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200703211731735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70" /></p>
<blockquote>
<p><strong>References：<a href="https://tensorflow.google.cn/install/docker#gpu_support">https://tensorflow.google.cn/install/docker#gpu_support</a></strong></p>
</blockquote>
<p>更换下载源为国内的镜像源 <strong>Docker官方中国区</strong>：<a href="https://registry.docker-cn.com"><strong>https://registry.docker-cn.com</strong></a> 或者 <strong>阿里云</strong>：<a href="https://pee6w651.mirror.aliyuncs.com"><strong>https://pee6w651.mirror.aliyuncs.com</strong></a>：</p>
<pre><code class="shell">$ sudo vim /etc/docker/daemon.json
$ systemctl restart docker.service 
$ cat /etc/docker/daemon.json
{&quot;registry-mirrors&quot;: [&quot;https://pee6w651.mirror.aliyuncs.com&quot;]}
</code></pre>

<p>这里就 pull 一个支持 GPU 和 Jupyter 的版本：</p>
<pre><code class="shell">$ docker pull tensorflow/tensorflow:latest-gpu-jupyter  # latest release w/ GPU support and Jupyter
</code></pre>

<p>成功安装：</p>
<pre><code class="shell">$ sudo docker images
REPOSITORY              TAG                  IMAGE ID            CREATED             SIZE
tensorflow/tensorflow   latest-gpu-jupyter   8d78dd1e1b64        8 weeks ago         3.99GB
</code></pre>

<p>查看本地已有的容器：</p>
<pre><code class="shell">$ sudo docker images
REPOSITORY              TAG                  IMAGE ID            CREATED             SIZE
tensorflow/tensorflow   latest-gpu-jupyter   8d78dd1e1b64        8 weeks ago         3.99GB
tensorflow/tensorflow   latest-gpu           f5ba7a196d56        8 weeks ago         3.84GB
</code></pre>

<p>接下来运行 TAG 是 latest-gpu 的容器，进入容器后可以查看内置的 Python 版本以及安装好的 TensorFlow：</p>
<pre><code class="shell">$ sudo docker run -it tensorflow/tensorflow:latest-gpu
root@c4fceafad48c:/# python -V
Python 3.6.9
root@c4fceafad48c:/# pip list
...
tensorflow-gpu         2.2.0
...
</code></pre>

<p>可以另外开一个 Terminal，查看正在运行的镜像：</p>
<pre><code class="shell">$ sudo docker ps
CONTAINER ID        IMAGE                              COMMAND             CREATED             STATUS              PORTS               NAMES
49b31ca53c49        tensorflow/tensorflow:latest-gpu   &quot;/bin/bash&quot;         17 seconds ago      Up 16 seconds                           gallant_shirley
</code></pre>

<p>运行 TAG 是 latest-gpu-jupyter 的容器：</p>
<pre><code class="shell">$ sudo docker run -p 8888:8888 tensorflow/tensorflow:latest-gpu-jupyter
</code></pre>

<p>浏览器访问下面的链接就可以使用 jupyter notebook：
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200703225523709.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70" />
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2020070322554697.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70" /></p>
<hr>

<h5 id="4-cuda">4. CUDA的安装</h5>
<p>CUDA：<a href="https://developer.nvidia.com/cuda-toolkit"><strong>https://developer.nvidia.com/cuda-toolkit</strong></a></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200828145319154.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70#pic_left" /></p>
<p>选择平台，不同的平台有不同安装步骤：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200828150008310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70#pic_center" /></p>
<p>根据下面的命令安装就可以了：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200828150001298.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70#pic_center" /></p>
<pre><code class="python">$ wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin
$ sudo mv cuda-ubuntu2004.pin /etc/apt/preferences.d/cuda-repository-pin-600
$ wget https://developer.download.nvidia.com/compute/cuda/11.0.3/local_installers/cuda-repo-ubuntu2004-11-0-local_11.0.3-450.51.06-1_amd64.deb
$ sudo dpkg -i cuda-repo-ubuntu2004-11-0-local_11.0.3-450.51.06-1_amd64.deb
$ sudo apt-key add /var/cuda-repo-ubuntu2004-11-0-local/7fa2af80.pub
$ sudo apt-get update
$ sudo apt-get -y install cuda
</code></pre>

<p>CUDA 默认是被安装到 /usr/local/ 下，可以查看 CUDA 版本：</p>
<pre><code class="python">$ cd /usr/local/cuda
$ cat version.txt 
CUDA Version 11.0.228
</code></pre>

<hr>

<h5 id="5-cudnn">5. cuDNN的安装</h5>
<p>cuDNN：<a href="https://developer.nvidia.com/cudnn"><strong>https://developer.nvidia.com/cudnn</strong></a></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200828145648541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70#pic_left" /></p>
<p>需要登录才能进入下载页面，还需要填写调查问卷！最后才进入下载页面 <a href="https://developer.nvidia.com/rdp/cudnn-download"><strong>https://developer.nvidia.com/rdp/cudnn-download</strong></a>：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200828151940346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70#pic_left" /></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200828152856729.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RoYW5sb24=,size_16,color_FFFFFF,t_70#pic_left" /></p>
<p>复制链接使用命令下载：</p>
<pre><code class="python">$ wget https://developer.download.nvidia.cn/compute/machine-learning/cudnn/secure/8.0.2.39/11.0_20200724/cudnn-11.0-linux-x64-v8.0.2.39.tgz
</code></pre>

<p>解压缩：</p>
<pre><code class="python">$ tar zxvf cudnn-11.0-linux-x64-v8.0.2.39.tgz
</code></pre>

<p>解压缩之后会得到 cuda 文件夹，接着执行下面的操作：</p>
<pre><code class="python">$ sudo cp cuda/include/cudnn.h /usr/local/cuda/include/
$ sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64/
$ sudo chmod a+r /usr/local/cuda/include/cudnn.h
$ sudo chmod a+r /usr/local/cuda/lib64/libcudnn*
</code></pre>

<p>查看版本号：</p>
<pre><code class="python">$ cat cuda/include/cudnn_version.h |grep ^#
#ifndef CUDNN_VERSION_H_
#define CUDNN_VERSION_H_
#define CUDNN_MAJOR 8
#define CUDNN_MINOR 0
#define CUDNN_PATCHLEVEL 2
#define CUDNN_VERSION (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)
#endif /* CUDNN_VERSION_H */
</code></pre>

<p>版本是 v8.0.2！</p>
<hr>

<div style="width: 60px;height: auto;z-index: 99;bottom: 30%;position: fixed;right: 0px" id="plug-ins">
    <div style="position: relative;float: right">
        <a target="" href="javascript:;" id="weibo"
           style="display: block;width: 40px;height: 40px;background-color: #c4351b;margin-top: 1px;">
            <img width="22" height="20" src="../img/weibo.png" alt=""
                 style="margin-top: 10px;margin-left: 9px">
        </a>
        <a target="_blank" href="http://sighttp.qq.com/authd?IDKEY=5838160dbeb2a49f264d5e2d13d6336248d74a60cf56ecad" id="qq" style="display: block;width: 40px;height: 40px;background-color:#0e91e8;margin-top: 1px">
            <img width="20" height="20" src="../img/qq.png" 
                 style="margin-top: 10px;margin-left: 10px" alt="点击这里给我发消息" title="点击这里给我发消息">
        </a>
        <a href="javascript:" id="wechat"
           style="display: block;width: 40px;height: 40px;background-color:#01b901;margin-top:1px">
            <img width="22" height="20" src="../img/wechat.png"
                 style="margin-top: 10px;margin-left: 9px">
        </a>
        <a href="javascript:" id="go_top"
           style="display: none;width: 40px;height: 40px;background-color: #b5b5b5;margin-top: 1px">
            <img width="22" height="20" src="../img/top.png" alt=""
                 style="margin-top: 10px;margin-left: 9px">
        </a>
    </div>
</div>

<div style="width: auto;height: auto;z-index: 99;position: fixed;left: 0;bottom: 0;" id="support_us" hidden="hidden">
        <div id="alipei_and_wechat">
            <button type="button" class="close"><span aria-hidden="true">&times;</span></button>
            <img class="img-responsive" width="180px" height="" src="../img/public/33659FBDE4AF3F7A005E17D9BA173D04.jpg" alt="..."><br>
            <img class="img-responsive" width="180px" height="" src="../img/public/B37F6EA6DF3F4C1CA0A65C0E80AE131E.jpg" alt="...">
        </div>
</div>

<div style="width: auto;height: auto;z-index: 99;position: fixed;right: 0;top: 70px;" id="google_ads">
        <div>
            <div style="width: 180px;height: auto"></div>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- Vertical -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-6937898095875663"
                 data-ad-slot="2927491642"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
</div></div>
        </div>

        <footer class="col-md-12">
<!--    <hr>-->
<!---->
<!--以前的-->
<!--<p>Copyright © 2020-2022 <a href="https://pythoneers.cn/">pythoneers.cn</a> All Rights Reserved.</p>-->
<!--<p>-->
<!--    <a href="https://beian.miit.gov.cn" target="_blank" style="color:#555;">豫ICP备19037971号-2</a><a target="_blank"></a>-->
<!--    <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1279280889'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1279280889%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>-->
<!--</p>-->
<!--<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>-->
<!--以前的/-->
<div class="container-fluid" style="background:#2C2C2C;color: #c1c1c1;font-weight: bold;margin-bottom: 2px">
    <div class="row">
        <div class="col-md-12  text-center" style="padding: 40px">
            <a href="https://docs.djangoproject.com/zh-hans/3.0/" style="color:#c1c1c1;font-weight: bold"
               target="_blank">Django</a>&nbsp;|
            <a href="https://flask.palletsprojects.com/en/1.1.x/" style="color:#c1c1c1;font-weight: bold"
               target="_blank">Flask</a>&nbsp;|
            <a href="https://www.django-rest-framework.org/" style="color:#c1c1c1;font-weight: bold"
               target="_blank">DRF</a>&nbsp;|
            <a href="https://cn.vuejs.org/" style="color:#c1c1c1;font-weight: bold" target="_blank">Vue</a>&nbsp;|
            <a href="https://www.nginx.com/" style="color:#c1c1c1;font-weight: bold" target="_blank">Nginx</a>&nbsp;|
            <a href="https://kubernetes.io/" style="color:#c1c1c1;font-weight: bold" target="_blank">Kubernetes</a>&nbsp;|
            <a href="https://zabbix.org/wiki/Main_Page" style="color:#c1c1c1;font-weight: bold"
               target="_blank">Zabbix</a>&nbsp;|
            <a href="https://tensorflow.google.cn/" style="color:#c1c1c1;font-weight: bold"
               target="_blank">TensorFlow</a>&nbsp;|
            <a href="https://docs.opencv.org/" style="color:#c1c1c1;font-weight: bold" target="_blank">OpenCV</a>&nbsp;|
            <a href="https://www.mkdocs.org/" style="color:#c1c1c1;font-weight: bold" target="_blank">MkDocs</a>&nbsp;
            <br>
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">云服务器</a>&nbsp;|
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">39毕设网</a>&nbsp;|
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">阿尔法搜索</a>&nbsp;|
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">贝塔学习网</a>&nbsp;|
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">伽马运维栈</a>&nbsp;|
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">德尔塔操作系统</a>&nbsp;|
            <a href="javascript:" style="color:#c1c1c1;font-weight: bold" target="_blank">欧米伽影视</a>&nbsp;
            <br>
            Copyright © 2020-2021&nbsp; pythoneers.cn. All Rights Reserved.&nbsp;PYTHONEERS 版权所有&nbsp;
            <br>
            <a target="_blank_" href="http://www.miit.gov.cn/" style="color:#c1c1c1;">豫ICP备19037971-2号</a>
            <!--            <a target="_blank">-->
            <!--                <img src="/static/home/images/beian.png" style="padding-bottom:6px">-->
            <!--                <span style="color:#c1c1c1;">豫公网安备 41152802000091号</span>-->
            <!--            </a>-->
            <span id="cnzz_stat_icon_1279280889">
            <a href="https://www.cnzz.com/stat/website.php?web_id=1279280889" target="_blank" title="站长统计">
              <img border="0" hspace="0" vspace="0" src="https://icon.cnzz.com/img/pic.gif">
            </a>
          </span>
        </div>
    </div>
</div>

        </footer>

        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../js/main.js" defer></script>
        <script src="../js/gotop.js" defer></script>
        <script src="../js/baiducount.js" defer></script>
<!--    <script async src="../js/somelib.js"></script>-->
<script data-ad-client="ca-pub-6937898095875663" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    //baidu自动收录
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
<script>
    //360自动收录
    (function () {
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
    })();
</script>


        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
